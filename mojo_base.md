# æ ‡é‡scalarã€å‘é‡vectorã€çŸ©é˜µmatrixã€å¼ é‡Tensor
**æ·±åº¦å­¦ä¹ **çš„è¡¨ç°ä¹‹æ‰€ä»¥èƒ½å¤Ÿè¶…è¿‡ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ç®—æ³•ç¦»ä¸å¼€**ç¥ç»ç½‘ç»œ**ï¼Œç„¶è€Œç¥ç»ç½‘ç»œæœ€åŸºæœ¬çš„æ•°æ®ç»“æ„å°±æ˜¯**å‘é‡**å’Œ**çŸ©é˜µ**ï¼Œç¥ç»ç½‘ç»œçš„è¾“å…¥æ˜¯å‘é‡ï¼Œç„¶åé€šè¿‡æ¯ä¸ªçŸ©é˜µå¯¹å‘é‡è¿›è¡Œçº¿æ€§å˜æ¢ï¼Œå†ç»è¿‡**æ¿€æ´»å‡½æ•°**çš„éçº¿æ€§å˜æ¢ï¼Œé€šè¿‡å±‚å±‚è®¡ç®—æœ€ç»ˆä½¿å¾—**æŸå¤±å‡½æ•°çš„æœ€å°åŒ–**ï¼Œå®Œæˆæ¨¡å‹çš„è®­ç»ƒã€‚æ‰€ä»¥è¦æƒ³å­¦å¥½æ·±åº¦å­¦ä¹ ï¼Œå¯¹è¿™äº›åŸºç¡€çš„æ•°æ®ç»“æ„è¿˜æ˜¯è¦éå¸¸äº†è§£ã€‚

- ç‚¹â€”â€”æ ‡é‡ï¼ˆscalarï¼‰ï¼Œ å°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ•°(0Då¼ é‡)
- çº¿â€”â€”å‘é‡ï¼ˆvectorï¼‰ï¼Œä¸€ç»´æ•°ç»„(1Då¼ é‡)
- é¢â€”â€”çŸ©é˜µï¼ˆmatrixï¼‰ï¼ŒäºŒç»´æ•°ç»„(2Då¼ é‡)
- ä½“â€”â€”å¼ é‡ï¼ˆtensorï¼‰ï¼Œè¶…è¿‡äºŒç»´çš„æ•°ç»„(å¤šç»´æ•°ç»„)
> dimensionç»´åº¦ï¼Œ ä¹Ÿå«è½´axisã€æˆ–è€…é˜¶rankï¼›è¯´çš„æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚

æ ‡é‡ã€å‘é‡ã€çŸ©é˜µã€å¼ é‡çš„å…³ç³»ï¼šScalar - Vector - Matrix - Tensorå…¶å®å°±æ˜¯æ•°æ®ç»´åº¦é€æ¸ä¸Šå‡çš„è¿‡ç¨‹
![æ ‡é‡ã€å‘é‡ã€çŸ©é˜µã€å¼ é‡çš„å…³ç³»](./res/mojo_scalar_vector.jpg)

### scalaræ ‡é‡ï¼Œ ä¸€ä¸ªæ•°(0Då¼ é‡)
ä¸€ä¸ªæ ‡é‡**å°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ•°**ï¼Œå¯ä»¥æ˜¯**æ•°å­—**ã€**å¸ƒå°”å€¼**ã€**å­—ç¬¦**æˆ– **null** ç­‰ã€‚ æ ‡é‡å¼ é‡æœ‰0ä¸ªè½´ï¼ˆ0ç»´ï¼‰æˆ–è€…0é˜¶ã€‚

æ ‡é‡ä¹Ÿå«ï¼šæ ‡é‡å¼ é‡ã€é›¶ç»´å¼ é‡ã€0Då¼ é‡
```python
x = np.array(12)

# å¯ä»¥ç”¨ ndim å±æ€§æ¥æŸ¥çœ‹ä¸€ä¸ª Numpy å¼ é‡çš„è½´çš„ä¸ªæ•°ã€‚æ ‡é‡å¼ é‡æœ‰ 0 ä¸ªè½´ï¼ˆ ndim == 0 ï¼‰
print(x.ndim) 
```
### Vectorï¼ˆå‘é‡ï¼‰ï¼Œä¸€ç»´æ•°ç»„(1Då¼ é‡)
ä¸€ä¸ªå‘é‡è¡¨ç¤ºä¸€ç»„æœ‰åºæ’åˆ—çš„**ä¸€ç»´æ•°ç»„**ï¼Œé€šè¿‡æ¬¡åºä¸­çš„ç´¢å¼•æˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°æ¯ä¸ªå•ç‹¬çš„æ•°ã€‚å‘é‡ä¹Ÿå«ä¸€ç»´å¼ é‡ï¼ˆ1D å¼ é‡ï¼‰ã€‚
```
np.array([12, 3, 6, 14, 7])  # 5Då‘é‡ï¼Œ 2Då¼ é‡
```
è¿™ä¸ªå‘é‡æœ‰ 5 ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥è¢«ç§°ä¸º 5D**å‘é‡**ã€‚ä¸è¦æŠŠ 5Då‘é‡ å’Œ 5D**å¼ é‡** å¼„æ··ï¼ 5Då‘é‡åªæœ‰ä¸€ä¸ªè½´ï¼Œæ²¿ç€è½´æœ‰ 5 ä¸ªç»´åº¦ï¼Œè€Œ 5D å¼ é‡æœ‰ 5 ä¸ªè½´ï¼ˆæ²¿ç€æ¯ä¸ªè½´å¯èƒ½æœ‰ä»»æ„ä¸ªç»´åº¦ï¼‰
### çŸ©é˜µï¼ˆmatrixï¼‰ï¼ŒäºŒç»´æ•°ç»„(2Då¼ é‡)
çŸ©é˜µæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œä¹Ÿå«äºŒç»´å¼ é‡(2D å¼ é‡)ï¼Œå…¶ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ç”±ä¸¤ä¸ªç´¢å¼•æ¥å†³å®šã€‚
```python
np.array([[5, 78, 2, 34, 0], [6, 79, 3, 35, 1], [7, 80, 4, 36, 2]])
```

### å¼ é‡ï¼ˆTensorï¼‰ï¼šè¶…è¿‡äºŒç»´çš„æ•°ç»„(å¤šç»´æ•°ç»„)
Tensor = multi-dimensional array of numbers **å¼ é‡æ˜¯ä¸€ä¸ªå¤šç»´æ•°ç»„**ã€‚å¼ é‡çš„dimension**ç»´åº¦ï¼Œ ä¹Ÿå«è½´axisã€æˆ–è€…é˜¶rank**ï¼›è¯´çš„æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚

æ·±åº¦å­¦ä¹ å¤„ç†çš„ä¸€èˆ¬æ˜¯ 0D åˆ° 4D çš„å¼ é‡ï¼Œä½†å¤„ç†è§†é¢‘æ•°æ®æ—¶å¯èƒ½ä¼šé‡åˆ° 5D å¼ é‡ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ª Numpy çš„ 3D å¼ é‡(ç«‹æ–¹ä½“)ã€‚
```python
np.array([[[5, 78, 2, 34, 0],
           [6, 79, 3, 35, 1],
           [7, 80, 4, 36, 2]],

          [[5, 78, 2, 34, 0],
           [6, 79, 3, 35, 1],
           [7, 80, 4, 36, 2]],

          [[5, 78, 2, 34, 0],
           [6, 79, 3, 35, 1],
           [7, 80, 4, 36, 2]]])

```
å¼ é‡çš„ä¸‰ä¸ªå…³é”®å±æ€§ï¼š
- ndimè½´çš„ä¸ªæ•°ï¼šä¾‹å¦‚ï¼Œ3D å¼ é‡æœ‰ 3 ä¸ªè½´ï¼ŒçŸ©é˜µæœ‰ 2 ä¸ªè½´ã€‚
- shapeå½¢çŠ¶: ä¸€ä¸ªæ•´æ•°å…ƒç»„ï¼Œè¡¨ç¤ºå¼ é‡æ²¿æ¯ä¸ªè½´çš„ç»´åº¦å¤§å°ã€‚
- dtype: å¼ é‡çš„æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚float32ã€int64ç­‰ã€‚

### æ ‡é‡ã€å‘é‡ã€çŸ©é˜µã€å¼ é‡ä¹‹é—´çš„è”ç³»
æ ‡é‡æ˜¯**0ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹**ï¼Œå‘é‡æ˜¯**ä¸€ç»´ç©ºé—´ä¸­çš„ä¸€æ¡çº¿**ï¼ŒçŸ©é˜µæ˜¯**äºŒç»´ç©ºé—´çš„ä¸€ä¸ªé¢**ï¼Œä¸‰ç»´å¼ é‡æ˜¯**ä¸‰ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªä½“**ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‘é‡æ˜¯ç”±æ ‡é‡ç»„æˆçš„ï¼ŒçŸ©é˜µæ˜¯å‘é‡ç»„æˆçš„ï¼Œå¼ é‡æ˜¯çŸ©é˜µç»„æˆçš„ã€‚

ç”¨ä¸€ä¸ªæ¯”è¾ƒé€šä¿—çš„ä¾‹å­å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šå‡è®¾ä½ æ‰‹ä¸­æ‹¿ç€ä¸€æ ¹æ£å­ï¼Œ**æ ‡é‡**å°±æ˜¯æˆ‘ä»¬åªçŸ¥é“æ£å­çš„é•¿åº¦ï¼Œä½†æ˜¯ä¸çŸ¥é“æ£å­æŒ‡å‘çš„æ–¹å‘ã€‚**å‘é‡**å°±æ˜¯æˆ‘ä»¬é™¤äº†çŸ¥é“æ£å­çš„é•¿åº¦ä¹‹å¤–è¿˜çŸ¥é“æ£å­æŒ‡å‘çš„æ˜¯å·¦è¾¹è¿˜æ˜¯å³è¾¹ï¼Œ**çŸ©é˜µ**å°±æ˜¯é™¤äº†çŸ¥é“å‘é‡çŸ¥é“çš„ä¿¡æ¯å¤–è¿˜çŸ¥é“æ£å­æ˜¯æœä¸Šè¿˜æ˜¯æœä¸‹ï¼Œ**å¼ é‡**å°±æ˜¯é™¤äº†çŸ¥é“çŸ©é˜µçŸ¥é“çš„ä¿¡æ¯å¤–è¿˜çŸ¥é“æ£å­æ˜¯æœå‰è¿˜æ˜¯æœåã€‚
 

 # SIMD å•æŒ‡ä»¤æµå¤šæ•°æ®æµ

## `SIMD`ä¸€ä¸ªç”±ç¡¬ä»¶æ”¯æŒçš„å‘é‡
SIMDï¼ˆSingle Instruction, Multiple Dataï¼‰æ˜¯ä¸€ç§å¹¶è¡Œè®¡ç®—æŠ€æœ¯ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯åœ¨å•ä¸€æ“ä½œä¸­åŒæ—¶å¯¹å¤šä¸ªæ•°æ®å…ƒç´ æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ã€‚



**`SIMDæ˜¯ä¸€ä¸ªå‘é‡vector`ï¼Œ è€Œä¸”æ˜¯ç”±ç¡¬ä»¶æ”¯æŒçš„å‘é‡ï¼ˆ backed by a hardware vector elementï¼‰**ï¼Œæ³¨æ„ï¼Œ**å®ƒæ˜¯vectorå‘é‡**ï¼Œç°åœ¨çš„CPUå’ŒGPUéƒ½å†…ç½®ä¸“é—¨çš„`SIMDå‘é‡å¯„å­˜å™¨ï¼ˆå±äºç¡¬ä»¶ï¼‰`ï¼Œæ‰€ä»¥SIMDçš„é€Ÿåº¦éå¸¸å¿«ã€‚ **ä¸€ä¸ªSIMDå‘é‡å¯„å­˜å™¨å¯ä»¥å¯ä»¥å­˜å‚¨å¤šä¸ªæ•°æ®å…ƒç´ **ï¼Œ ä¸åŒå‹å·çš„cpuæˆ–gpuï¼Œå®ƒä»¬å†…ç½®çš„simdå‘é‡å¯„å­˜å™¨é•¿åº¦ä¸åŒï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ª 128 ä½çš„ SIMD å¯„å­˜å™¨å¯ä»¥å­˜å‚¨ 4 ä¸ª 32 ä½çš„æµ®ç‚¹æ•°ã€‚ **ä¸€ä¸ªæŒ‡ä»¤å¯ä»¥åŒæ—¶å¯¹åŒä¸€ä¸ªSIMDå†…çš„`å¤šä¸ª`æ•°æ®`è¿›è¡Œæ“ä½œ`** ï¼Œ è€Œä¸æ˜¯é€ä¸ªæ‰§è¡Œã€‚
- **å•ä¸€æŒ‡ä»¤** ï¼šè¿™æ„å‘³ç€åœ¨ç»™å®šçš„æ—¶é’Ÿå‘¨æœŸå†…ï¼Œæ‰§è¡Œçš„æ˜¯åŒä¸€æ¡æŒ‡ä»¤ï¼Œè€Œä¸æ˜¯å¤šæ¡ä¸åŒçš„æŒ‡ä»¤ã€‚
- **å¤šä¸ªæ•°æ®** ï¼šè¿™æ„å‘³ç€ä¸Šè¿°æŒ‡ä»¤å¯ä»¥åŒæ—¶å¯¹åŒä¸€ä¸ªSIMDå¯„å­˜å™¨å†…çš„å¤šä¸ªæ•°æ®è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯é€ä¸ªåœ°æ‰§è¡Œã€‚

- **æŒ‡ä»¤é›†æ‰©å±•** ï¼šè®¸å¤šç°ä»£å¤„ç†å™¨æä¾› SIMD æŒ‡ä»¤é›†æ‰©å±•ï¼Œå¦‚ Intel çš„ SSE å’Œ AVXï¼Œä»¥åŠ ARM çš„ NEONã€‚è¿™äº›æ‰©å±•å¢åŠ äº†ä¸“é—¨çš„æŒ‡ä»¤æ¥æ”¯æŒå‘é‡åŒ–çš„æ“ä½œã€‚



### SIMDç¤ºä¾‹
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç®€å•çš„å‘é‡åŠ æ³•æ“ä½œæ¥è§£é‡Š SIMD çš„å·¥ä½œåŸç†ã€‚å‡è®¾æˆ‘ä»¬éœ€è¦å°†ä¸¤ä¸ªæµ®ç‚¹æ•°å‘é‡ç›¸åŠ ã€‚æ¯ä¸ªå‘é‡éƒ½åŒ…å«äº†å››ä¸ªå…ƒç´ ã€‚

**åœºæ™¯ï¼šå‘é‡åŠ æ³•**
å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªæµ®ç‚¹æ•°å‘é‡ A å’Œ Bï¼š
```python
A = [a1, a2, a3, a4]
B = [b1, b2, b3, b4]
```
æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯è®¡ç®—å®ƒä»¬çš„å’Œï¼Œå³ $C=A+B$ã€‚

**1ã€ä¼ ç»Ÿçš„é€å…ƒç´ åŠ æ³•ï¼ˆæ²¡æœ‰ä½¿ç”¨ SIMDï¼‰**
å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¼ ç»Ÿçš„æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæ²¡æœ‰ SIMD æ”¯æŒçš„è€æ—§å¤„ç†å™¨ä¸Šï¼‰ï¼Œæˆ‘ä»¬ä¼šé€ä¸ªå…ƒç´ åœ°è¿›è¡ŒåŠ æ³•æ“ä½œï¼š
```
c1 = a1 + b1
c2 = a2 + b2
c3 = a3 + b3
c4 = a4 + b4
```
**è¿™å››ä¸ªæ“ä½œæ˜¯ä¸²è¡Œçš„**ï¼Œæ„å‘³ç€æ¯æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªåŠ æ³•æ“ä½œã€‚

**2ã€ ä½¿ç”¨ SIMD çš„å‘é‡åŠ æ³•**
ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬çš„å¤„ç†å™¨æ”¯æŒ 4 ä¸ªå…ƒç´ çš„ SIMD åŠ æ³•æ“ä½œã€‚è¿™æ„å‘³ç€å®ƒæœ‰ç‰¹æ®Šçš„å¯„å­˜å™¨ï¼ˆé€šå¸¸ç§°ä¸º**å‘é‡å¯„å­˜å™¨**ï¼‰ï¼Œå¯ä»¥åŒæ—¶å­˜å‚¨å››ä¸ªæµ®ç‚¹æ•°ã€‚

1. **æ•°æ®åŠ è½½**ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬å°†å‘é‡ A å’Œ B çš„å…ƒç´ åŠ è½½åˆ°ä¸¤ä¸ª SIMD å¯„å­˜å™¨ä¸­ã€‚
2. **å•ä¸€æŒ‡ä»¤åŠ æ³•**ï¼šæ¥ç€ï¼Œæˆ‘ä»¬ä½¿ç”¨å•ä¸€çš„ SIMD åŠ æ³•æŒ‡ä»¤ï¼ŒåŒæ—¶å¯¹ä¸¤ä¸ªSIMDå¯„å­˜å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ æ‰§è¡ŒåŠ æ³•æ“ä½œã€‚
3. **æ•°æ®å­˜å‚¨**ï¼šæœ€åï¼Œæˆ‘ä»¬**å°†ç»“æœä» SIMD å‘é‡å¯„å­˜å™¨å­˜å‚¨å›å†…å­˜ä¸­**ï¼Œå¾—åˆ°å‘é‡ Cã€‚

åœ¨è¿™ä¸ª SIMD ç¤ºä¾‹ä¸­ï¼Œå››ä¸ªåŠ æ³•æ“ä½œå‡ ä¹åŒæ—¶å®Œæˆï¼Œè€Œä¸æ˜¯é€ä¸ªè¿›è¡Œï¼Œä»è€Œå¤§å¤§æé«˜äº†æ€§èƒ½ã€‚


## Mojoå†…ç½®SIMDç±»å‹

SIMDç±»å‹æœ‰2ä¸ªå‚æ•°ï¼š
- type(DType): ä¸€ä¸ªSIMDå¯„å­˜å™¨å¯ä»¥å­˜å‚¨å¤šä¸ªæ•°æ®å…ƒç´ ï¼ŒtypeæŒ‡å®šæ•°æ®å…ƒç´ çš„ç±»å‹ã€‚
- size(Int): SIMDå‘é‡çš„**é•¿åº¦**ï¼ˆè¦æ±‚æ˜¯2çš„å¹‚ï¼Œ å¦‚ï¼š1, 2, 4, 8...ï¼‰, ä»£è¡¨**å¯ä»¥å­˜å‚¨ å¤šå°‘ä¸ªç±»å‹æ˜¯typeçš„æ•°æ®å…ƒç´ **ã€‚

å†…ç½®çš„ `Scalarã€Int8ã€UInt8ã€Int16ã€UInt16...Int64ã€UInt64 ã€Float16ã€ Float32ã€Float64` éƒ½æ˜¯ SIMDå­ç±»å‹çš„ **åˆ«åAliase**ã€‚
- `Scalar = SIMD[?, 1]` è¡¨ç¤ºæ ‡é‡æ•°æ®ç±»å‹ã€‚
- `Int8 = SIMD[si8, 1]` è¡¨ç¤º8ä½æœ‰ç¬¦å·æ ‡é‡æ•´æ•°ã€‚
- `UInt8 = SIMD[ui8, 1]` è¡¨ç¤º8ä½æ— ç¬¦å·æ ‡é‡æ•´æ•°ã€‚
- `Int16 = SIMD[si16, 1]` è¡¨ç¤º 16 ä½æœ‰ç¬¦å·æ ‡é‡æ•´æ•°ã€‚
- `UInt16 = SIMD[ui16, 1]` è¡¨ç¤º16ä½æ— ç¬¦å·æ ‡é‡æ•´æ•°ã€‚
- `Int32 = SIMD[si32, 1]` è¡¨ç¤º 32 ä½æœ‰ç¬¦å·æ ‡é‡æ•´æ•°ã€‚
- `UInt32 = SIMD[ui32, 1]` è¡¨ç¤º32ä½æ— ç¬¦å·æ ‡é‡æ•´æ•°ã€‚
- `Int64 = SIMD[si64, 1]` è¡¨ç¤º 64 ä½æœ‰ç¬¦å·æ ‡é‡æ•´æ•°ã€‚
- `UInt64 = SIMD[ui64, 1]` è¡¨ç¤º64ä½æ— ç¬¦å·æ ‡é‡æ•´æ•°ã€‚
- `Float16 = SIMD[f16, 1]` ä»£è¡¨16ä½æµ®ç‚¹å€¼ã€‚
- `Float32 = SIMD[f32, 1]` è¡¨ç¤º32ä½æµ®ç‚¹å€¼ã€‚
- `Float64 = SIMD[f64, 1]` è¡¨ç¤º64ä½æµ®ç‚¹å€¼ã€‚



# CPU çš„ L1 L2 L3 Cache ç¼“å­˜ & RAM memory å†…å­˜
é€šå¸¸æ¯ä¸ªCPUå†…éƒ¨éƒ½**å†…ç½®**æœ‰ä¸€ä¸ªL1å’ŒL2ç¼“å­˜ï¼ŒL3ç¼“å­˜æ˜¯å¤šä¸ªCPUå…±ç”¨ä¸€ä¸ªã€‚

CPUæŸ¥æ‰¾æ•°æ®çš„æ—¶å€™é¦–å…ˆåœ¨L1ï¼Œç„¶åçœ‹L2ï¼Œå¦‚æœè¿˜æ²¡æœ‰ï¼Œå°±åˆ°L3å’Œå†…å­˜æŸ¥æ‰¾ã€‚ L1ç¼“å­˜çš„è®¿é—®é€Ÿåº¦æœ€å¿«ï¼Œæ‰€ä»¥å¾ˆå¿«éœ€è¦çš„ä¸œè¥¿éƒ½ä¿å­˜åœ¨é‚£é‡Œã€‚ç„¶è€Œï¼Œå®ƒæ˜¯ä»L2ç¼“å­˜å¡«å……çš„ï¼ŒL2ç¼“å­˜æœ¬èº«æ˜¯ä»L3ç¼“å­˜å¡«å……çš„ï¼ŒL3ç¼“å­˜æ˜¯ä»å†…å­˜å¡«å……çš„ã€‚è¿™è®©æˆ‘ä»¬æƒ³åˆ°äº†ä¼˜åŒ–ä»£ç çš„ç¬¬ä¸€ä¸ªæƒ³æ³•ï¼šä½¿ç”¨å·²ç»åœ¨æ›´è¿‘çš„ç¼“å­˜ä¸­çš„ä¸œè¥¿å¯ä»¥å¸®åŠ©ä»£ç è¿è¡Œå¾—æ›´å¿«ï¼Œå› ä¸ºå®ƒä¸å¿…è¢«æŸ¥è¯¢å’Œç§»åŠ¨åˆ°è¿™ä¸ªé“¾ä¸Š

L1/L2/L3 Cache å’Œ memory é€Ÿåº¦å·®åˆ«

- L1 cache: 3 cyclesï¼Œ L1ç¼“å­˜çš„å®¹é‡é€šå¸¸åœ¨32â€”256KBã€‚

- L2 cache: 11 cyclesï¼ŒL2ç¼“å­˜å¤§å°é€šå¸¸åœ¨ 1-32MB

- L3 cache: 25 cyclesï¼Œé«˜ç«¯æ¶ˆè´¹ç±» CPUçš„L3ç¼“å­˜é€šå¸¸32MB-128MB

- RAM Memory: 100 cycles


# Stackï¼ˆæ ˆï¼‰ & Heapï¼ˆå †ï¼‰

# æ¨¡å— module & åŒ… package

**Moduleæ¨¡å—**ï¼šå…¶å®å°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„Mojoæºæ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†å…¶å®ƒæ–‡ä»¶åœ¨å¯¼å…¥å®ƒæ—¶å¯ä»¥ä½¿ç”¨çš„ä»£ç ã€‚**æ–‡ä»¶åå°±æ˜¯æ¨¡å—å**(ä¸åŒ…å«.mojoæ‰©å±•å)ï¼Œ**moduleå¯ç‹¬è‡ªå­˜åœ¨**ï¼Œä¸ç”¨å½’å±è«ä¸ªåŒ…packageï¼Œå½“ç„¶ module ä¹Ÿå¯ä»¥å½’å…¥æŸä¸ªåŒ…ä¸‹ã€‚
- æ¨¡å—é€šå¸¸åªæ˜¯åŒ…å«APIï¼Œä»¥ä¾¿è¢«å¯¼å…¥å¹¶åœ¨å…¶ä»–Mojoç¨‹åºä¸­ä½¿ç”¨ã€‚æ‰€ä»¥ä¸€èˆ¬æ¨¡å—çš„ä»£ç æ–‡ä»¶é‡Œä¸å®šä¹‰`main()`å‡½æ•°ã€‚

**åŒ…package**ï¼šå…¶å®æ˜¯ä¸€ä¸ªç›®å½•ï¼Œç›®å½•ä¸‹æ˜¯ä¸€ä¸ªä¸ªå®šä¹‰**moduleæ¨¡å—**çš„.mojoæ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ **`__init__.mojo`** ï¼Œå³ä½¿æ˜¯ç©ºæ–‡ä»¶ä¹Ÿä¸€å®šè¦æœ‰ï¼Œç”¨äºæŠŠè¿™ä¸ªç›®å½•è¯†åˆ«ä¸ºä¸€ä¸ªåŒ…ã€‚ æŠŠæ¨¡å—æ–‡ä»¶æ”¾å…¥åŒ…ç›®å½•ï¼Œè¿™ä¸ªæ¨¡å—å°±å±äºè¿™ä¸ªåŒ…ã€‚  é»˜è®¤**ç›®å½•åå°±æ˜¯åŒ…å**
- å¯é€‰åœ°ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨`mojo package`å‘½ä»¤å°†è¯¥åŒ…ç¼–è¯‘æˆä¸€ä¸ªæ›´æ˜“äºå…±äº«çš„`.mojopkg`æˆ–`.ğŸ“¦`æ–‡ä»¶ã€‚å¯ä»¥ä½¿ç”¨`-o`å‚æ•°æŒ‡å®šåŒ…åï¼Œå¯ä»¥ä¸ç›®å½•åä¸åŒã€‚

- **å¯¼å…¥åŒ…**ï¼šå¯ä»¥ç›´æ¥**ä»æºæ–‡ä»¶** æˆ– **ç¼–è¯‘åçš„ .mojopkg** / .ğŸ“¦ æ–‡ä»¶å¯¼å…¥ã€‚è¿™ä¸¤ç§å¯¼å…¥æ–¹å¼å¯¹Mojoæ²¡æœ‰çœŸå®çš„åŒºåˆ«ã€‚
  - å½“ä»æºæ–‡ä»¶å¯¼å…¥æ—¶ï¼Œç›®å½•åç”¨ä½œåŒ…å
  - å½“ä»ç¼–è¯‘çš„åŒ…å¯¼å…¥æ—¶ï¼Œæ–‡ä»¶åæ˜¯åŒ…åï¼ˆä½¿ç”¨ mojo package å‘½ä»¤æŒ‡å®šï¼Œå®ƒå¯ä»¥ä¸ç›®å½•åä¸åŒï¼‰

> **è®¿é—®æ¨¡å—æˆå‘˜çš„å®Œæ•´è·¯å¾„**: å¦‚æœæœ‰åŒ…ï¼Œå°±å…ˆåŒ…åã€ç„¶åæ˜¯æ¨¡å—åã€æœ€åæ‰æ˜¯æ¨¡å—æˆå‘˜çš„åç§°  **åŒ…å.æ¨¡å—å.module_member_name**
> 
## module æ¨¡å—
### å®šä¹‰ä¸€ä¸ªæ¨¡å—
ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå®šä¹‰ç»“æ„ä½“çš„æ¨¡å—ï¼Œæ–‡ä»¶åæ˜¯`mymodule.mojo`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

æ–‡ä»¶`mymodule.mojo`
```mojo
struct MyPairï¼š
    var first: Int
    var second: Int

    fn __init__(inout self, first: Int, second: Int)ï¼š
        self.first = first
        self.second = second

    fn dump(self)ï¼š
        print(self.first, self.second)
```

### ä½¿ç”¨æ¨¡å—

#### 1ã€ä»æ¨¡å—é‡Œç›´æ¥å¯¼å…¥æ‰€éœ€å†…å®¹ `from æ¨¡å—å import æ‰€éœ€å†…å®¹`
ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨ä¸mymodule.mojoä½äºåŒä¸€ç›®å½•çš„åä¸ºmain.mojoçš„æ–‡ä»¶ä¸­å¯¼å…¥MyPairï¼š

æ–‡ä»¶`main.mojo`
```mojo
from mymodule import MyPair

fn main()ï¼š
    let mine = MyPair(2, 4)
    mine.dump()
```
åœ¨ç»ˆç«¯å‘½ä»¤è¡Œä¸‹è¿è¡Œï¼š `mojo main.mojo`

#### 2ã€å¯¼å…¥æ•´ä¸ªæ¨¡å— `import æ¨¡å—å`
```mojo
import mymodule
let mine = mymodule.MyPair(2, 4)
```
#### 3ã€ as ä¸ºå¯¼å…¥çš„æˆå‘˜åˆ›å»ºåˆ«å `import æ¨¡å—å as åˆ«å`
```mojo
import mymodule as my
let mine = my.MyPair(2, 4)
```

## package åŒ…
### 1ã€é€šè¿‡ç›®å½•å®šä¹‰ä¸€ä¸ªåŒ…
ä¾‹å¦‚ï¼Œè€ƒè™‘åŒ…å«ä»¥ä¸‹ç›®å½•ç»“æ„çš„é¡¹ç›®ï¼š
<pre>
main.mojo
mypackage/
    __init__.mojo
    mymodule.mojo
</pre>
`__init__.mojo` æ˜¯ç©ºæ–‡ä»¶ï¼Œ ç”¨äºæ ‡è¯†ç›®å½•mypackageæ˜¯ä¸€ä¸ª **åŒ…**

æ–‡ä»¶`mymodule.mojo`ï¼Œå®šä¹‰ä¸€ä¸ªæ¨¡å—
```mojo
struct MyPairï¼š
    var first: Int
    var second: Int

    fn __init__(inout self, first: Int, second: Int)ï¼š
        self.first = first
        self.second = second

    fn dump(self)ï¼š
        print(self.first, self.second)
```

### 2ã€é€šè¿‡åŒ…çš„æºæ–‡ä»¶å¯¼å…¥åŒ…ã€åŒ…åæ˜¯åŒ…çš„ç›®å½•å
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ main.mojo æ–‡ä»¶ç°åœ¨å¯ä»¥**é€šè¿‡åŒ…åå¯¼å…¥** MyPair ï¼Œ è¿™é‡Œçš„å¯¼å…¥æ–¹å¼æ˜¯**é€šè¿‡åŒ…çš„æºæ–‡ä»¶å¯¼å…¥**ï¼Œ æ‰€ä»¥**åŒ…åæ˜¯åŒ…çš„ç›®å½•å**ï¼Œä¸‹å¦‚ä¸‹æ‰€ç¤ºï¼š

æ–‡ä»¶main.mojo
> æ­£å¸¸**è®¿é—®æ¨¡å—æˆå‘˜**çš„å®Œæ•´è·¯å¾„æ˜¯ï¼š **åŒ…å.æ¨¡å—å.module_member_name** å…ˆåŒ…åã€ç„¶åæ˜¯æ¨¡å—åã€æœ€åæ‰æ˜¯æ¨¡å—æˆå‘˜çš„åç§°ã€‚
```python
from mypackage.mymodule import MyPair  

fn main():
    let mine = MyPair(2, 4)
    mine.dump()
```


åœ¨ç»ˆç«¯å‘½ä»¤è¡Œä¸‹è¿è¡Œï¼š `mojo main.mojo`

### 3ã€ä»ç¼–è¯‘åçš„`.mojopkg`å¯¼å…¥åŒ…ã€åŒ…åç”± `mojo package` å‘½ä»¤æŒ‡å®šï¼Œå¯ä»¥ä¸æºä»£ç çš„ç›®å½•åä¸åŒ

#### 3.1 `mojo package` ç¼–è¯‘åŒ…
æŠŠä¸Šé¢çš„åŒ…ï¼ˆä¹Ÿå°±æ˜¯ç›®å½•mypackageï¼‰ç¼–è¯‘æˆ`.mojopkg`ï¼Œ é€šè¿‡ `-o` å‚æ•°æŒ‡å®šäº†ç”Ÿæˆçš„åŒ…åæ˜¯` mypack`
```bash
mojo package mypackage -o mypack.mojopkg  # é€šè¿‡ -o æŒ‡å®šäº†ç”Ÿæˆçš„åŒ…åæ˜¯ mypack
```
æ³¨æ„ï¼šå¦‚æœä½ æƒ³é‡å‘½åŒ…åï¼Œä½ ä¸èƒ½ç®€å•åœ°ç¼–è¾‘ .mojopkg æˆ– .ğŸ“¦ çš„æ–‡ä»¶åï¼Œå› ä¸º**åŒ…çš„åç§°æ˜¯åœ¨.mojopkgæ–‡ä»¶ä¸­ç¼–ç çš„**ã€‚æ‚¨å¿…é¡»å†æ¬¡è¿è¡Œ mojo package ä»¥æŒ‡å®šæ–°åç§°ã€‚

#### 3.2 æŠŠç”Ÿæˆçš„`.mojopkg`åŒ…æ”¾åœ¨main.mojoç›®å½•ä¸‹
<pre>
main.mojo
mypack.mojopkg
</pre>

æ–‡ä»¶main.mojo, å¯¼å…¥åŒ…ï¼Œè°ƒç”¨
```mojo
from mypack.mymodule import MyPair  # å¯¼å…¥åŒ…

fn main():
    let me = MyPair(100, 200)
    me.dump()
```

### `__init__.mojo`é¢„å…ˆå¯¼å…¥æ¨¡å—æˆå‘˜ 
ç›®å‰ï¼Œ.mojo æ–‡ä»¶ä¸­ä¸æ”¯æŒé¡¶çº§ä»£ç (top-level code)ï¼Œå› æ­¤ä¸ Python ä¸åŒï¼Œä½ ä¸èƒ½åœ¨ `__init__.mojo` ä¸­ç¼–å†™åœ¨å¯¼å…¥æ—¶æ‰§è¡Œçš„ä»£ç ã€‚

ä½†æ˜¯ä½ å¯ä»¥åœ¨`__init__.mojo`é‡Œ**é¢„å…ˆå¯¼å…¥æ¨¡å—æˆå‘˜**ï¼Œåç»­ä½¿ç”¨å¯¼å…¥è¿™ä¸ªåŒ…çš„æ—¶å€™ï¼Œå°±å¯ä»¥**çœç•¥æ¨¡å—å**ï¼Œç›´æ¥é€šè¿‡ **`åŒ…å.module_member_name`** æ¥è®¿é—®è¿™äº›é¢„å…ˆå¯¼å…¥çš„æ¨¡å—æˆå‘˜ï¼Œ 

- æ­£å¸¸**è®¿é—®æ¨¡å—æˆå‘˜**çš„å®Œæ•´è·¯å¾„æ˜¯ï¼š **åŒ…å.æ¨¡å—å.module_member_name** å…ˆåŒ…åã€ç„¶åæ˜¯æ¨¡å—åã€æœ€åæ‰æ˜¯æ¨¡å—æˆå‘˜çš„åç§°ã€‚
- è¿™ä¸ªç‰¹æ€§è§£é‡Šäº†ä¸ºä»€ä¹ˆMojoæ ‡å‡†åº“ä¸­çš„ä¸€äº›æˆå‘˜å¯ä»¥ä»å®ƒä»¬çš„åŒ…åå¯¼å…¥

ä¾‹å¦‚è¿˜æ˜¯ä¸Šé¢çš„ mypackageåŒ…ï¼Œ æˆ‘ä»¬åœ¨ `__init__.mojo` ä¸­**é¢„å…ˆå¯¼å…¥æ¨¡å—æˆå‘˜**ï¼š

æ–‡ä»¶`__init__.mojo`
```mojo
from .mymodule import MyPair
```

ç°åœ¨æ–‡ä»¶main.mojoé‡Œå°±å¯ä»¥çœç•¥æ¨¡å—å`mymodule`ï¼Œç›´æ¥é€šè¿‡åŒ…å`mypackage` è®¿é—®è¢«é¢„å…ˆå¯¼å…¥çš„æ¨¡å—æˆå‘˜`MyPair`

```mojo
from mypackage import MyPair

fn main():
    let me = MyPair(100, 200)
    me.dump()
```

# trait

struct å®ç°trait
```mojo
struct SomeStruct(SomeTrait):
```

trait å¯ä»¥ç»§æ‰¿
```mojo
trait Parent:
    fn parent_func(self): ...

trait Child(Parent):
    fn child_func(self): ...
```

# AnyType

# raises

# Parametric & Argument

### Parametric & partially bound

Parametric types æ”¯æŒéƒ¨åˆ†ç»‘å®špartially boundï¼Œ ä¾‹å¦‚ï¼Œæ·»åŠ äº†ä¸€ä¸ªæ–°çš„ Scalar ç±»å‹åˆ«åï¼Œå®šä¹‰ä¸ºï¼š
```mojo
alias Scalar = SIMD[size=1]
```
# Tensor